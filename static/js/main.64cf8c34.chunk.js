(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{129:function(e,t,a){},262:function(e,t,a){},282:function(e,t,a){},284:function(e,t,a){},339:function(e,t,a){},341:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(30),s=a.n(r),i=a(18),o=a(51),l=a(132),u=a(28),d=a(16),j=a(99),b=a(22),p=Object(b.a)(),h=a(135),O=(a(257),a(259),{apiKey:"AIzaSyDzhwkNxIdwZJNQz5eTHUOgk6cFmEQTvuI",authDomain:"portfolio-tracker-317511.firebaseapp.com",databaseURL:"portfolio-tracker-317511-default-rtdb.europe-west1.firebasedatabase.app",projectId:"portfolio-tracker-317511",storageBucket:"portfolio-tracker-317511.appspot.com",messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/crypto-portfolio-tracker",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDzhwkNxIdwZJNQz5eTHUOgk6cFmEQTvuI",REACT_APP_FIREBASE_APP_ID:"1:638442913480:web:459a3ba053fa53fc5eeffd",REACT_APP_FIREBASE_AUTH_DOMAIN:"portfolio-tracker-317511.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"portfolio-tracker-317511-default-rtdb.europe-west1.firebasedatabase.app",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-DD97WPNZ71",REACT_APP_FIREBASE_MESSAGING_SENDING_ID:"638442913480",REACT_APP_FIREBASE_PROJECT_ID:"portfolio-tracker-317511",REACT_APP_FIREBASE_STORAGE_BUCKET:"portfolio-tracker-317511.appspot.com"}).REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:"1:638442913480:web:459a3ba053fa53fc5eeffd",measurementId:"G-DD97WPNZ71"}),f=h.a.initializeApp(O),x=(a(262),a(2)),m=Object(i.b)((function(e){return{crypto:e.crypto,transactions:e.transactions}}))((function(e){var t=e.crypto,a=e.transactions;Object(n.useEffect)((function(){f.auth().onAuthStateChanged((function(e){e||p.push("/")}))}),[]);var c={datasets:[{data:function(){var e=[];return Object.keys(a).length>0&&a.transactions.reduce((function(a,n){return a[n.coin]||(a[n.coin]={x:n.coin,y:0},e.push(a[n.coin])),a[n.coin].y+=+n.quantity*function(e){if(t[e]){var a=t[e];return a[a.length-1].y}}(n.coin_id),a}),{}),e}(),backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},r={datasets:[{data:function(){var e=[];return Object.keys(a).length>0&&a.transactions.reduce((function(t,a){return t[a.transaction_date]||(t[a.transaction_date]={x:a.transaction_date,y:0},e.push(t[a.transaction_date])),t[a.transaction_date].y+=+a.total_value,t}),{}),e}(),backgroundColor:["rgba(54, 162, 235, 0.2)"],borderColor:["rgba(54, 162, 235, 1)"],borderWidth:1}]};return Object(x.jsxs)("div",{className:"ui segment teal",children:[Object(x.jsx)("h3",{className:"ui dividing header",children:"Current Portfolio Breakdown"}),Object(x.jsxs)("div",{className:"ui grid",children:[Object(x.jsx)("div",{className:"eight wide column",children:Object(x.jsx)(j.a,{data:c,options:{plugins:{title:{display:!0,text:"Current Value by Coin",padding:{top:10,bottom:10}},legend:{display:!1},tooltips:{enabled:!1}}}})}),Object(x.jsx)("div",{className:"eight wide column",children:Object(x.jsx)(j.a,{data:r,options:{plugins:{title:{display:!0,text:"Value of Transactions by Date",padding:{top:10,bottom:10}},legend:{display:!1},tooltips:{enabled:!1}}}})})]})]})})),y=a(9),v=a(21),g=a.n(v),S=a(37),_=a(136),N=a.n(_).a.create({baseURL:"https://api.coingecko.com/api/v3"}),T=a(343),C=a(137),E=a.n(C),I=function(e){return function(){var t=Object(S.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.database().ref("Transactions").orderByChild("userId").equalTo(e);case 3:t.sent.on("value",(function(e){var t=[];e.forEach((function(e){t.push(Object(y.a)({id:e.key},e.val()))}));var n=E.a.uniqBy(t,"coin");a({type:"GET_TRANSACTIONS",payload:t}),a({type:"UNQIUE_CRYPTO",payload:n})})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},w=a(15),A=Object(i.b)((function(e){return{transactions:e.transactions,crypto:e.crypto}}),{getTransactions:I})((function(e){var t=e.transactions,a=e.getTransactions,c=e.crypto;Object(n.useEffect)((function(){f.auth().onAuthStateChanged((function(e){e||p.push("/"),e&&0===Object.keys(t).length&&a(e.uid)}))}),[a,t,c]);var r=function(){var e=[];return Object.keys(t).length>0&&t.transactions.reduce((function(t,a){return t[a.coin]||(t[a.coin]={coin:a.coin,quantity:0,total_value:0,current_value:0},e.push(t[a.coin])),t[a.coin].quantity+=+a.quantity,t[a.coin].total_value+=+a.total_value,t[a.coin].current_value+=+a.quantity*function(e){if(c[e]){var t=c[e];return t[t.length-1].y}}(a.coin_id),t}),{}),e},s=function(){if(Object.keys(t).length>0)return t.transactions.reduce((function(e,t){return e+ +t.quantity}),0)},i=function(){if(Object.keys(t).length>0)return t.transactions.reduce((function(e,t){return e+ +t.total_value}),0)},o=function(){if(Object.keys(t).length>0)return r().reduce((function(e,t){return e+ +t.current_value}),0)};return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"ui segment",children:[Object(x.jsx)("h3",{className:"ui dividing header",children:"View your holdings"}),Object(x.jsxs)("table",{className:"ui celled table unstackable",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Coin"}),Object(x.jsx)("th",{children:"Quantity"}),Object(x.jsx)("th",{children:"Average Price"}),Object(x.jsx)("th",{children:"Cost"}),Object(x.jsx)("th",{children:"Current Value"}),Object(x.jsx)("th",{children:"Profit/Loss"}),Object(x.jsx)("th",{children:"% Change"})]})}),function(){if(Object.keys(t).length>0)return r().map((function(e){return Object(x.jsx)("tbody",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{"data-label":"Coin",children:e.coin}),Object(x.jsx)("td",{"data-label":"Quantity",children:Object(x.jsx)(w.a,{value:e.quantity,decimalScale:2,thousandSeparator:!0,displayType:"text"})}),Object(x.jsx)("td",{"data-label":"Price per coin",children:Object(x.jsx)(w.a,{value:Math.abs(e.total_value/e.quantity),decimalScale:2,thousandSeparator:!0,prefix:"\xa3",displayType:"text"})}),Object(x.jsx)("td",{"data-label":"Cost",children:Object(x.jsx)(w.a,{value:e.total_value,thousandSeparator:!0,decimalScale:4,prefix:"\xa3",displayType:"text"})}),Object(x.jsx)("td",{"data-label":"Current Value",children:Object(x.jsx)(w.a,{value:e.current_value,decimalScale:2,thousandSeparator:!0,prefix:"\xa3",displayType:"text"})}),Object(x.jsx)("td",{"data-label":"Net Gain",children:Object(x.jsx)(w.a,{value:e.current_value-e.total_value,decimalScale:2,thousandSeparator:!0,prefix:"\xa3",displayType:"text"})}),Object(x.jsx)("td",{"data-label":"% Change",children:Object(x.jsx)(w.a,{value:(e.current_value-e.total_value)/e.total_value*100,decimalScale:2,thousandSeparator:!0,suffix:"%",displayType:"text"})})]})},e.coin)}))}(),Object(x.jsx)("tfoot",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Total"}),Object(x.jsx)("th",{children:Object(x.jsx)(w.a,{value:s(),displayType:"text",decimalScale:2,thousandSeparator:!0})}),Object(x.jsx)("th",{children:Object(x.jsx)(w.a,{value:Math.abs(i()/s()),decimalScale:2,displayType:"text",prefix:"\xa3",thousandSeparator:!0})}),Object(x.jsx)("th",{children:Object(x.jsx)(w.a,{value:i(),displayType:"text",prefix:"\xa3",decimalScale:2,thousandSeparator:!0})}),Object(x.jsx)("th",{children:Object(x.jsx)(w.a,{value:o(),displayType:"text",decimalScale:2,prefix:"\xa3",thousandSeparator:!0})}),Object(x.jsx)("th",{children:Object(x.jsx)(w.a,{value:o()-i(),displayType:"text",decimalScale:2,prefix:"\xa3",thousandSeparator:!0})}),Object(x.jsx)("th",{children:Object(x.jsx)(w.a,{value:(o()-i())/i()*100,displayType:"text",decimalScale:2,suffix:"%",thousandSeparator:!0})})]})})]})]})})})),k=a(10),P=a(11),R=a(13),D=a(12),q=(a(282),function(e){Object(R.a)(a,e);var t=Object(D.a)(a);function a(){return Object(k.a)(this,a),t.apply(this,arguments)}return Object(P.a)(a,[{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{className:"ui menu",children:[Object(x.jsx)(u.b,{to:"/dashboard",className:"item",children:"Dashboard"}),Object(x.jsx)(u.b,{to:"/transactions",className:"item",children:"Transactions"}),Object(x.jsx)(u.b,{to:"/add_transaction",className:"item",children:"Add Transaction"}),Object(x.jsx)("a",{href:"/",className:"right item",onClick:function(t){return e.props.signOut()},children:"Sign Out"})]})}}]),a}(c.a.Component)),U=Object(i.b)(null,{signOut:function(){return function(){var e=Object(S.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.auth().signOut();case 3:t({type:"SIGN_OUT"}),p.push("".concat("/crypto-portfolio-tracker","/")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})(q),G=Object(i.b)((function(e){return{crypto:e.crypto,transactions:e.transactions,uniqueCrypto:e.uniqueCrypto}}),{cryptoPrices:function(e){return function(){var t=Object(S.a)(g.a.mark((function t(a){var n,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.get("/coins/".concat(e,"/market_chart"),{params:{vs_currency:"gbp",days:"90",interval:"daily"}});case 3:return n=t.sent,t.next=6,n.data.prices.map((function(e){return{x:Object(T.default)(new Date(e[0]),"dd-MM-yyyy").toLocaleString("en-GB"),y:e[1]}}));case 6:c=t.sent,a({type:"CRYPTO_PRICES",payload:c,name:e}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.cryptoPrices,a=e.transactions,c=e.uniqueCrypto;return Object(n.useEffect)((function(){f.auth().onAuthStateChanged((function(e){e||p.push("/");return function(){if(0!==Object.keys(c).length)return c.data.map((function(e){return t(e.coin_id)}))}()}))}),[t,a,c]),Object(x.jsxs)("div",{children:[Object(x.jsx)(U,{}),Object(x.jsx)(m,{}),Object(x.jsx)(A,{})]})})),B=a(20),L=(a(129),Object(i.b)(null,{signUp:function(e){return function(){var t=Object(S.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.auth().createUserWithEmailAndPassword(e.email,e.password);case 3:n=t.sent,a({type:"SIGN_UP",payload:n.user.uid}),p.push("".concat("/crypto-portfolio-tracker","/dashboard")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.signUp,a=function(e){var t=e.error;if(e.touched&&t)return Object(x.jsx)("div",{className:"ui error message",children:Object(x.jsx)("div",{className:"header",children:t})})},n=function(e){var t=e.input,n=e.label,c=e.meta,r=(e.type,e.icon),s="field ".concat(c.error&&c.touched?"error":"");return Object(x.jsxs)("div",{className:s,children:[Object(x.jsx)("label",{children:n}),Object(x.jsxs)("div",{className:"ui left icon input",children:[Object(x.jsx)("i",{className:r}),Object(x.jsx)("input",Object(y.a)(Object(y.a)({},t),{},{autoComplete:"off",type:t.type}))]}),a(c)]})};return Object(x.jsx)("div",{className:"signup-form-container",children:Object(x.jsxs)("div",{className:"ui segment teal signup-form",children:[Object(x.jsxs)("div",{className:"column",children:[Object(x.jsx)("h2",{className:"ui header",children:"Sign up"}),Object(x.jsx)(B.b,{onSubmit:function(e){t(e)},validate:function(e){var t={};return e.email||(t.email="You must enter an email"),e.password||(t.password="You must enter a password"),e.confirmPassword||(t.confirmPassword="You must enter a password"),e.password!==e.confirmPassword&&(t.confirmPassword="You must enter a matching password"),t},children:function(e){var t=e.handleSubmit;return Object(x.jsxs)("form",{onSubmit:t,className:"ui form error",children:[Object(x.jsx)(B.a,{name:"email",type:"text",component:n,label:"Email",icon:"user icon"}),Object(x.jsx)(B.a,{name:"password",type:"password",component:n,label:"Password",icon:"lock icon"}),Object(x.jsx)(B.a,{name:"confirmPassword",type:"password",component:n,label:"Confirm Password",icon:"lock icon"}),Object(x.jsx)("button",{className:"ui fluid teal submit button",children:"Create Account"})]})}})]}),Object(x.jsxs)("div",{className:"ui message signup-content",children:["Already have an account? ",Object(x.jsx)(u.b,{to:"/",children:"Sign-in"})]})]})})}))),M=Object(i.b)((function(e){return{auth_errors:e.auth.errorMessage}}),{signIn:function(e){return function(){var t=Object(S.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.auth().signInWithEmailAndPassword(e.email,e.password);case 3:n=t.sent,a({type:"SIGN_IN",payload:n.user.uid}),p.push("".concat("/crypto-portfolio-tracker","/dashboard")),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),a({type:"ERROR_SIGN_IN",payload:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.signIn,a=e.auth_errors,n=function(e){e.error;if(e.touched&&a)return Object(x.jsx)("div",{className:"ui error message",children:Object(x.jsx)("div",{className:"header",children:a})})},c=function(e){var t=e.input,a=e.label,c=e.meta,r=(e.type,e.icon),s="field ".concat(c.error&&c.touched?"error":"");return Object(x.jsxs)("div",{className:s,children:[Object(x.jsx)("label",{children:a}),Object(x.jsxs)("div",{className:"ui left icon input",children:[Object(x.jsx)("i",{className:r}),Object(x.jsx)("input",Object(y.a)(Object(y.a)({},t),{},{autoComplete:"off",type:t.type}))]}),n(c)]})},r={email:"guest-account@xavdev.io",password:"guestaccount123!"};return Object(x.jsx)("div",{className:"signup-form-container",children:Object(x.jsxs)("div",{className:"ui segment teal signup-form",children:[Object(x.jsxs)("div",{className:"column",children:[Object(x.jsx)("h2",{className:"ui header",children:"Sign In"}),Object(x.jsx)(B.b,{onSubmit:function(e){t(e)},validate:function(e){return{}},children:function(e){var t=e.handleSubmit;return Object(x.jsxs)("form",{onSubmit:t,className:"ui form error",children:[Object(x.jsx)(B.a,{name:"email",type:"text",component:c,label:"Email",icon:"user icon"}),Object(x.jsx)(B.a,{name:"password",type:"password",component:c,label:"Password",icon:"lock icon"}),Object(x.jsx)("button",{className:"ui fluid teal submit button",children:"Sign In"})]})}})]}),Object(x.jsxs)("div",{className:"ui message signup-content",children:["Don't have an account? ",Object(x.jsx)(u.b,{to:"/signup",children:"Sign-up"}),Object(x.jsxs)("div",{children:["Or, snoop around with the ",Object(x.jsx)(u.b,{to:"/dashboard",onClick:function(e){!function(e){t(e)}(r)},children:"Demo Account"})]})]})]})})})),V=a(141),Y=a(138),F=a.n(Y),Q=a(88),W=a(337),z=a(4),K=(a(284),a(285),Object(i.b)((function(e){return{coinList:e.cryptoList}}),{cryptoList:function(){return function(){var e=Object(S.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/coins/markets",{params:{vs_currency:"gbp",order:"market_cap_desc",per_page:150}});case 3:a=e.sent,n=a.data.map((function(e){return{label:e.name,value:e.id}})),t({type:"CRYPTO_LIST",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},writeTransaction:function(e,t){return function(a){try{var n={userId:t,type:e.type,coin:e.selectCoin.label,coin_id:e.selectCoin.value,quantity:"Sold"===e.type?"-".concat(e.quantity.replace(",","")):e.quantity.replace(",",""),total_value:"Sold"===e.type?"-"+e.totalValue.replace("\xa3","").replace(",",""):e.totalValue.replace("\xa3","").replace(",",""),transaction_date:e.selectDate,date_added:Object(T.default)(new Date,"dd-MM-yyyy")};f.database().ref("Transactions").push(n),a({type:"WRITE_TRANSACTION",payload:n}),p.push("".concat("/crypto-portfolio-tracker","/transactions"))}catch(c){console.error(c)}}}})((function(e){var t=e.cryptoList,a=e.coinList,c=e.writeTransaction;Object(n.useEffect)((function(){f.auth().onAuthStateChanged((function(e){e||p.push("/"),e&&0===Object.keys(a).length&&t()}))}),[a,t]);var r=function(e){var t=e.input,n=e.label,c=e.meta,r="form-style ui field ".concat(c.error&&c.touched?"error":"");return Object(x.jsxs)("div",{className:r,children:[Object(x.jsx)("label",{className:"label-style",children:n}),Object(x.jsx)(V.a,Object(y.a)(Object(y.a)({},t),{},{autoComplete:"off",type:"text",options:a.data,className:"input-style"}))]})},s=function(e){var t=e.name,a=e.label,n=e.input,c=e.meta,r=e.input,s=r.value,i=(r.onChange,"form-style ui field ".concat(c.error&&c.touched?"error":""));return Object(x.jsxs)("div",{className:i,children:[Object(x.jsx)("label",{className:"label-style",children:a}),Object(x.jsx)(F.a,Object(y.a)(Object(y.a)({},n),{},{className:"input-style",placeholderText:"Enter date",dateFormat:"P",selected:s&&Object(Q.default)(Object(W.default)(s))?Object(z.default)(Object(W.default)(s)):null,disabledKeyboardNavigation:!0,name:t,onChange:function(e){Object(Q.default)(e)?n.onChange(Object(T.default)(new Date(e),"dd-MM-yyyy")):n.onChange(null)}}))]})},i=function(e){var t=e.label,a=e.input,n=e.meta,c=e.placeholder,r="form-style ui field ".concat(n.error&&n.touched?"error":"");return Object(x.jsxs)("div",{className:r,children:[Object(x.jsx)("label",{className:"label-style",children:t}),Object(x.jsx)(w.a,Object(y.a)(Object(y.a)({},a),{},{autoComplete:"off",type:"text",className:"input-style",placeholder:c,thousandSeparator:!0}))]})},o=function(e){var t=e.label,a=e.input,n=e.meta,c=e.placeholder,r="form-style ui field ".concat(n.error&&n.touched?"error":"");return Object(x.jsxs)("div",{className:r,children:[Object(x.jsx)("label",{className:"label-style",children:t}),Object(x.jsx)(w.a,Object(y.a)(Object(y.a)({},a),{},{autoComplete:"off",type:"text",className:"input-style",placeholder:c,prefix:"\xa3",thousandSeparator:!0}))]})},l=function(e){var t=e.label,a=e.input,n=e.meta,c=e.placeholder,r="ui field ".concat(n.error&&n.touched?"error":"");return Object(x.jsxs)("div",{className:r,children:[Object(x.jsx)("label",{children:t}),Object(x.jsx)("input",Object(y.a)(Object(y.a)({},a),{},{autoComplete:"off",type:"radio",placeholder:c}))]})};return Object(x.jsxs)("div",{children:[Object(x.jsx)(U,{}),Object(x.jsx)("div",{className:"ui container",children:Object(x.jsxs)("div",{className:"ui segment teal",children:[Object(x.jsx)("h3",{className:"ui dividing header",children:"Add Transaction"}),Object(x.jsx)(B.b,{onSubmit:function(e){f.auth().onAuthStateChanged((function(t){c(e,t.uid)}))},validate:function(e){var t={};return e.type||(t.type="You must select a transaction type"),e.selectDate||(t.selectDate="You must select a transaction date"),e.selectCoin||(t.selectCoin="You must select a coin"),e.quantity||(t.quantity="You must enter a quantity"),e.totalValue||(t.totalValue="You must enter a value"),t},children:function(e){var t=e.handleSubmit;return Object(x.jsx)("form",{onSubmit:t,className:"ui form error",children:Object(x.jsxs)("div",{className:"form-container",children:[Object(x.jsxs)("div",{className:"radio-style right",children:[Object(x.jsx)(B.a,{name:"type",component:l,type:"radio",label:"Bought",value:"Bought"}),Object(x.jsx)(B.a,{name:"type",component:l,type:"radio",label:"Sold ",value:"Sold"})]}),Object(x.jsx)(B.a,{name:"selectDate",component:s,label:"Transaction Date"}),Object(x.jsx)(B.a,{name:"selectCoin",component:r,label:"Select Coin"}),Object(x.jsx)(B.a,{name:"quantity",component:i,label:"Quantity"}),Object(x.jsx)(B.a,{name:"totalValue",component:o,label:"Total Value",placeholder:"\xa3"}),Object(x.jsx)("button",{className:"ui fluid teal submit button",children:"Save"})]})})}})]})})]})}))),H=(a(339),Object(i.b)((function(e){return{transactions:e.transactions}}),{getTransactions:I,removeTransaction:function(e){return function(){var t=Object(S.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.database().ref("Transactions");case 3:t.sent.child(e).remove(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.transactions,a=e.getTransactions,c=e.removeTransaction;Object(n.useEffect)((function(){f.auth().onAuthStateChanged((function(e){e||p.push("/"),e&&0===Object.keys(t).length&&a(e.uid)}))}),[a,t]);var r=function(){if(t)return t.transactions.reduce((function(e,t){return e+ +t.quantity}),0)},s=function(){if(t)return t.transactions.reduce((function(e,t){return e+ +t.total_value}),0)};return 0===Object.keys(t).length?Object(x.jsx)("div",{children:"Loading..."}):Object(x.jsxs)("div",{children:[Object(x.jsx)(U,{}),Object(x.jsxs)("div",{className:"ui segment teal",children:[Object(x.jsx)("h3",{className:"ui dividing header",children:"View your transactions"}),Object(x.jsxs)("table",{className:"ui celled table unstackable",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Transaction Date"}),Object(x.jsx)("th",{children:"Coin"}),Object(x.jsx)("th",{children:"Type"}),Object(x.jsx)("th",{children:"Quantity"}),Object(x.jsx)("th",{children:"Price per coin"}),Object(x.jsx)("th",{children:"Value"}),Object(x.jsx)("th",{children:"Options"})]})}),function(){if(t)return t.transactions.map((function(e){return Object(x.jsx)("tbody",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{"data-label":"Transaction Date",children:e.transaction_date}),Object(x.jsx)("td",{"data-label":"Coin",children:e.coin}),Object(x.jsx)("td",{"data-label":"Type",children:e.type}),Object(x.jsx)("td",{"data-label":"Quantity",children:Object(x.jsx)(w.a,{value:e.quantity,decimalScale:2,thousandSeparator:!0,displayType:"text"})}),Object(x.jsx)("td",{"data-label":"Price per coin",children:Object(x.jsx)(w.a,{value:e.total_value/e.quantity,decimalScale:2,thousandSeparator:!0,prefix:"\xa3",displayType:"text"})}),Object(x.jsx)("td",{"data-label":"Value",children:Object(x.jsx)(w.a,{value:e.total_value,thousandSeparator:!0,prefix:"\xa3",displayType:"text"})}),Object(x.jsx)("td",{children:Object(x.jsx)("i",{className:"red close icon",onClick:function(t){return c(e.id)}})})]})},e.id)}))}(),Object(x.jsx)("tfoot",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Total"}),Object(x.jsx)("th",{}),Object(x.jsx)("th",{}),Object(x.jsx)("th",{children:Object(x.jsx)(w.a,{value:r(),displayType:"text",decimalScale:2,thousandSeparator:!0})}),Object(x.jsx)("th",{children:Object(x.jsx)(w.a,{value:s()/r(),decimalScale:2,displayType:"text",prefix:"\xa3",thousandSeparator:!0})}),Object(x.jsx)("th",{children:Object(x.jsx)(w.a,{value:s(),displayType:"text",prefix:"\xa3",decimalScale:2,thousandSeparator:!0})}),Object(x.jsx)("th",{})]})})]})]})]})}))),J=function(){return Object(x.jsx)("div",{className:"ui container",children:Object(x.jsx)(u.a,{basename:"/crypto-portfolio-tracker",children:Object(x.jsxs)("div",{children:[Object(x.jsx)(d.a,{path:"/",exact:!0,component:M}),Object(x.jsx)(d.a,{path:"/signup",component:L}),Object(x.jsx)(d.a,{path:"/dashboard",component:G}),Object(x.jsx)(d.a,{path:"/add_transaction",component:K}),Object(x.jsx)(d.a,{path:"/transactions",component:H})]})})})},Z={isSignedIn:null,userId:null,errorMessage:""},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(y.a)(Object(y.a)({},e),{},{isSignedIn:!0,userId:t.payload});case"SIGN_OUT":return Object(y.a)(Object(y.a)({},e),{},{isSignedIn:!1,userId:null});case"SIGN_UP":return Object(y.a)(Object(y.a)({},e),{},{isSignedIn:!0,userId:t.payload});case"ERROR_SIGN_IN":return Object(y.a)(Object(y.a)({},e),{},{isSignedIn:!0,userId:null,errorMessage:t.payload});default:return e}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CRYPTO_LIST":return Object(y.a)(Object(y.a)({},e),{},{data:t.payload});default:return e}},ee=a(17),te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CRYPTO_PRICES":return Object(y.a)(Object(y.a)({},e),{},Object(ee.a)({},t.name,t.payload));default:return e}},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WRITE_TRANSACTIONS":case"GET_TRANSACTIONS":return Object(y.a)(Object(y.a)({},e),{},{transactions:t.payload});default:return e}},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UNQIUE_CRYPTO":return Object(y.a)(Object(y.a)({},e),{},{data:t.payload});default:return e}},ce=Object(o.b)({auth:X,crypto:te,cryptoList:$,transactions:ae,uniqueCrypto:ne}),re=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.c,se=Object(o.d)(ce,re(Object(o.a)(l.a)));s.a.render(Object(x.jsx)(i.a,{store:se,children:Object(x.jsx)(J,{})}),document.querySelector("#root"))}},[[341,1,2]]]);
//# sourceMappingURL=main.64cf8c34.chunk.js.map